{"ast":null,"code":"var _jsxFileName = \"/Users/sidorelakollcaku/Desktop/PROJECT1/src/Pages/DashboardScreens/WithOrganizations/SubmitGoals/Index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport firebase from '../../../../Config/FirebaseConfig';\nimport { useParams } from 'react-router-dom';\nimport { allSubmitOrgGoals, setOrgApprovedGoals, setOrgDeclineGoals, setReportGoals, setFakeGoals } from '../../../../GlobalState/CreateSlice';\nimport { useDispatch, useSelector } from 'react-redux';\nimport MiniDrawer from '../../Sidebar';\nimport SubmitGoalsTable from './SubmitGoalsTable';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\nimport './submitGoal.css';\nimport { getOrgUsers } from '../OrganizationUsers/UserList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `scrollable-auto-tabpanel-${index}`,\n    \"aria-labelledby\": `scrollable-auto-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      p: 3,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 27\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    'aria-controls': `scrollable-auto-tabpanel-${index}`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  }\n}));\n\nconst SubmitedGoals = () => {\n  _s();\n\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const {\n    id\n  } = useParams();\n  const dispatch = useDispatch();\n  const db = firebase.database();\n  const dbRef = db.ref(`organizations/${id}/submitGoals`); // get filter organization goals from database\n\n  const getFilterOrgGoals = () => {\n    dbRef.on('value', snapshot => {\n      let submitOrgGoalsArry = [];\n      let approvedOrgGoals = [];\n      let declineOrgGoals = [];\n      let reportGoalArray = [];\n      let fakeGoal = [];\n      snapshot.forEach(data => {\n        const getData = data.val(); // console.log(getData)\n\n        const getId = data.key;\n        getData.submitGoalId = getId; // if goals in pending\n\n        if (!getData.approved && !getData.decline && !getData.isReport) {\n          //  console.log(getData.approved)\n          submitOrgGoalsArry.push(getData);\n        } // if goals is approved\n        else if (getData.approved && !getData.isReport) {\n          approvedOrgGoals.push(getData);\n        } else if (getData.decline) {\n          declineOrgGoals.push(getData);\n        } else if (getData.isReport && !getData.acceptReport) {\n          reportGoalArray.push(getData);\n        }\n\n        if (getData.isReport && getData.acceptReport) {\n          fakeGoal.push(getData); // console.log(getData)\n        } // console.log(getData)\n\n      }); // submit goals\n\n      dispatch(allSubmitOrgGoals(submitOrgGoalsArry)); // approved goal\n\n      dispatch(setOrgApprovedGoals(approvedOrgGoals)); // decline goals\n\n      dispatch(setOrgDeclineGoals(declineOrgGoals)); // report goals\n\n      dispatch(setReportGoals(reportGoalArray)); // fake goals report\n\n      dispatch(setFakeGoals(fakeGoal));\n    });\n  };\n\n  useEffect(() => {\n    getFilterOrgGoals();\n    getOrgUsers(id, dispatch);\n  }, []);\n  const selector = useSelector(state => {\n    return state.goalReducer;\n  }); // console.log(selector)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard_md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard_left_content\",\n        children: /*#__PURE__*/_jsxDEV(MiniDrawer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${classes.root} submitd_table_md`,\n        children: [/*#__PURE__*/_jsxDEV(AppBar, {\n          position: \"static\",\n          color: \"default\",\n          children: /*#__PURE__*/_jsxDEV(Tabs, {\n            value: value,\n            onChange: handleChange,\n            indicatorColor: \"primary\",\n            textColor: \"primary\",\n            variant: \"scrollable\",\n            scrollButtons: \"auto\",\n            \"aria-label\": \"scrollable auto tabs example\",\n            children: [/*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Submit Goals\",\n              ...a11yProps(0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Approved Goals\",\n              ...a11yProps(1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Decline Goals\",\n              ...a11yProps(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Report Goals\",\n              ...a11yProps(3)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Fake Goals\",\n              ...a11yProps(4)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 0,\n          children: /*#__PURE__*/_jsxDEV(SubmitGoalsTable, {\n            selector: selector.allSubmitGoals\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 1,\n          children: /*#__PURE__*/_jsxDEV(SubmitGoalsTable, {\n            selector: selector.allOrgApprovedGoals,\n            btn: true,\n            approvedUndo: true,\n            undoFunc: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 2,\n          children: /*#__PURE__*/_jsxDEV(SubmitGoalsTable, {\n            selector: selector.allDeclineOrgGoals,\n            btn: true,\n            undoFunc: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 3,\n          children: /*#__PURE__*/_jsxDEV(SubmitGoalsTable, {\n            selector: selector.reportGoals,\n            btn: true,\n            declineBtn: true,\n            declineForReported: true,\n            undoForReported: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 4,\n          children: /*#__PURE__*/_jsxDEV(SubmitGoalsTable, {\n            selector: selector.fakeGoals,\n            btn: true,\n            declineBtn: true,\n            undoFake: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SubmitedGoals, \"FczNJqX+cD2DAdBh/BlgcB5THLY=\", false, function () {\n  return [useStyles, useParams, useDispatch, useSelector];\n});\n\n_c2 = SubmitedGoals;\nexport default SubmitedGoals;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"SubmitedGoals\");","map":{"version":3,"sources":["/Users/sidorelakollcaku/Desktop/PROJECT1/src/Pages/DashboardScreens/WithOrganizations/SubmitGoals/Index.jsx"],"names":["React","useEffect","firebase","useParams","allSubmitOrgGoals","setOrgApprovedGoals","setOrgDeclineGoals","setReportGoals","setFakeGoals","useDispatch","useSelector","MiniDrawer","SubmitGoalsTable","PropTypes","makeStyles","AppBar","Tabs","Tab","Box","getOrgUsers","TabPanel","props","children","value","index","other","propTypes","node","any","isRequired","a11yProps","id","useStyles","theme","root","flexGrow","width","backgroundColor","palette","background","paper","SubmitedGoals","classes","setValue","useState","handleChange","event","newValue","dispatch","db","database","dbRef","ref","getFilterOrgGoals","on","snapshot","submitOrgGoalsArry","approvedOrgGoals","declineOrgGoals","reportGoalArray","fakeGoal","forEach","data","getData","val","getId","key","submitGoalId","approved","decline","isReport","push","acceptReport","selector","state","goalReducer","allSubmitGoals","allOrgApprovedGoals","allDeclineOrgGoals","reportGoals","fakeGoals"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport firebase from '../../../../Config/FirebaseConfig'\nimport { useParams } from 'react-router-dom'\nimport {\n  allSubmitOrgGoals,\n  setOrgApprovedGoals,\n  setOrgDeclineGoals,\n  setReportGoals,\n  setFakeGoals,\n} from '../../../../GlobalState/CreateSlice'\nimport { useDispatch, useSelector } from 'react-redux'\nimport MiniDrawer from '../../Sidebar'\nimport SubmitGoalsTable from './SubmitGoalsTable'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Box from '@material-ui/core/Box'\nimport './submitGoal.css'\nimport { getOrgUsers } from '../OrganizationUsers/UserList'\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`scrollable-auto-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </div>\n  )\n}\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    'aria-controls': `scrollable-auto-tabpanel-${index}`,\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n}))\n\nconst SubmitedGoals = () => {\n  const classes = useStyles()\n  const [value, setValue] = React.useState(0)\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue)\n  }\n  const { id } = useParams()\n  const dispatch = useDispatch()\n  const db = firebase.database()\n  const dbRef = db.ref(`organizations/${id}/submitGoals`)\n\n  // get filter organization goals from database\n  const getFilterOrgGoals = () => {\n    dbRef.on('value', (snapshot) => {\n      let submitOrgGoalsArry = []\n      let approvedOrgGoals = []\n      let declineOrgGoals = []\n      let reportGoalArray = []\n      let fakeGoal = []\n      snapshot.forEach((data) => {\n        const getData = data.val()\n        // console.log(getData)\n        const getId = data.key\n        getData.submitGoalId = getId\n        // if goals in pending\n        if (!getData.approved && !getData.decline && !getData.isReport) {\n          //  console.log(getData.approved)\n          submitOrgGoalsArry.push(getData)\n        }\n        // if goals is approved\n        else if (getData.approved && !getData.isReport) {\n          approvedOrgGoals.push(getData)\n        } else if (getData.decline) {\n          declineOrgGoals.push(getData)\n        } else if (getData.isReport && !getData.acceptReport) {\n          reportGoalArray.push(getData)\n        }  if (getData.isReport && getData.acceptReport) {\n          fakeGoal.push(getData)\n          // console.log(getData)\n        }\n        // console.log(getData)\n      })\n      // submit goals\n      dispatch(allSubmitOrgGoals(submitOrgGoalsArry))\n      // approved goal\n      dispatch(setOrgApprovedGoals(approvedOrgGoals))\n      // decline goals\n      dispatch(setOrgDeclineGoals(declineOrgGoals))\n      // report goals\n      dispatch(setReportGoals(reportGoalArray))\n      // fake goals report\n      dispatch(setFakeGoals(fakeGoal))\n    })\n  }\n\n  useEffect(() => {\n    getFilterOrgGoals()\n    getOrgUsers(id, dispatch)\n  }, [])\n\n  const selector = useSelector((state) => {\n    return state.goalReducer\n  })\n    // console.log(selector)\n\n  return (\n    <div>\n      <div className=\"dashboard_md\">\n        <div className=\"dashboard_left_content\">\n          <MiniDrawer />\n        </div>\n        <div className={`${classes.root} submitd_table_md`}>\n          <AppBar position=\"static\" color=\"default\">\n            <Tabs\n              value={value}\n              onChange={handleChange}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              variant=\"scrollable\"\n              scrollButtons=\"auto\"\n              aria-label=\"scrollable auto tabs example\"\n            >\n              <Tab label=\"Submit Goals\" {...a11yProps(0)} />\n              <Tab label=\"Approved Goals\" {...a11yProps(1)} />\n              <Tab label=\"Decline Goals\" {...a11yProps(2)} />\n              <Tab label=\"Report Goals\" {...a11yProps(3)} />\n              <Tab label=\"Fake Goals\" {...a11yProps(4)} />\n            </Tabs>\n          </AppBar>\n          <TabPanel value={value} index={0}>\n            <SubmitGoalsTable selector={selector.allSubmitGoals} />\n          </TabPanel>\n          <TabPanel value={value} index={1}>\n            <SubmitGoalsTable\n              selector={selector.allOrgApprovedGoals}\n              btn\n              approvedUndo\n              undoFunc\n            />\n          </TabPanel>\n          <TabPanel value={value} index={2}>\n            <SubmitGoalsTable\n              selector={selector.allDeclineOrgGoals}\n              btn\n              undoFunc\n            />\n          </TabPanel>\n          <TabPanel value={value} index={3}>\n            <SubmitGoalsTable\n              selector={selector.reportGoals}\n              btn\n              declineBtn\n              declineForReported\n              undoForReported\n            />\n          </TabPanel>\n          <TabPanel value={value} index={4}>\n            <SubmitGoalsTable\n              selector={selector.fakeGoals}\n              btn\n              declineBtn\n              undoFake\n            />\n          </TabPanel>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default SubmitedGoals\n"]},"metadata":{},"sourceType":"module"}