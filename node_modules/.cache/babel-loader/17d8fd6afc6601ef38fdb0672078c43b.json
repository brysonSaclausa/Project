{"ast":null,"code":"var _jsxFileName = \"/Users/sidorelakollcaku/Desktop/Project/src/Pages/DashboardScreens/WithOutOrganizations/UpdateGoals.jsx/Index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport MiniDrawer from \"../../Sidebar\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport CreateGoals from \"../../WithOrganizations/CreateGoals/CreateGoals\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport firebase from \"../../../../Config/FirebaseConfig\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst goalsInput = {\n  eventName: \"\",\n  description: \"\",\n  dificulty: \"\",\n  endDate: \"\",\n  investMin: \"\",\n  investMax: \"\",\n  rewardMin: \"\",\n  rewardMax: \"\",\n  startDate: \"\",\n  numberOfDays: ''\n};\n\nconst WitoutOrgUpdateGoals = () => {\n  _s();\n\n  const history = useHistory();\n  let {\n    goal\n  } = useParams();\n  const [inputValues, setInputValues] = useState(goalsInput);\n  const [imgUrl, setImgurl] = useState(\"\");\n  const [imgName, setImgName] = useState(\"\");\n  const [local, setLocal] = useState(\"\");\n  let [filterGoal, setFilterGoal] = useState([]);\n  let [editGoalId, setEditGoalId] = useState(\"\");\n  let [loading, setLoading] = useState(false);\n  const db = firebase.database();\n  const ref = db.ref(`withoutOrganization/categories`);\n  const goals = useSelector(state => {\n    return state.goalReducer.withoutOrgGoals;\n  });\n  let [dbCategory, setDbCategory] = useState([]);\n\n  const getCategories = () => {\n    ref.on(\"value\", snapshot => {\n      let categoryArray = [];\n      snapshot.forEach(data => {\n        let resData = data.val();\n        let dataKey = data.key;\n        resData.id = dataKey;\n        categoryArray.push(resData);\n      });\n      setDbCategory(categoryArray);\n    });\n  }; // console.log(goals)\n\n\n  useEffect(() => {\n    //   filter selected goal detail\n    let goalsFilter = goals.filter(val => val.id === goal);\n    setFilterGoal(goalsFilter);\n\n    if (goalsFilter.length) {\n      setImgurl(goalsFilter[0].url);\n      setInputValues(goalsFilter[0].inputValues);\n      setEditGoalId(goalsFilter[0].id);\n    }\n\n    getCategories();\n    return () => {\n      getCategories();\n    };\n  }, []);\n\n  const handleGoals = event => {\n    setInputValues({ ...inputValues,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleGoalImg = event => {\n    const url = URL.createObjectURL(event.target.files[0]);\n    const goalImgName = event.target.files[0].name;\n    setImgurl(url);\n    setImgName(goalImgName);\n    setLocal(event.target.files[0]);\n  }; // firebase storage ref\n\n\n  const storage = firebase.storage();\n\n  let createStorageRef = () => storage.ref(`goalsImages/${imgName}`).put(local);\n\n  let downLoad = () => storage.ref(`goalsImages/${imgName}`).getDownloadURL(); // firebase database reference\n\n\n  const goalsRef = db.ref(`withoutOrganization/goals/` + editGoalId);\n\n  const handleEmptyImg = () => {\n    setImgurl(\"\");\n  }; // update goals in database\n\n\n  const handleUpdateGoals = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    if (local) {\n      createStorageRef().then(() => {\n        downLoad().then(url => {\n          goalsRef.update({\n            inputValues,\n            url,\n            peopleJoined: 0\n          }).then(() => {\n            setLoading(false);\n            history.push(`/without-organization/dashboard`);\n          }).catch(err => {\n            console.log(err);\n            setLoading(false);\n          });\n        });\n      });\n    } else {\n      goalsRef.update({\n        inputValues // numberOfDays,\n\n      }).then(() => {\n        setLoading(false);\n        history.push(`/without-organization/dashboard`);\n      }).catch(err => {\n        console.log(err);\n        setLoading(false);\n      });\n    } // console.log(inputValues);\n\n\n    setInputValues(goalsInput);\n    setImgurl(\"\");\n  };\n\n  if (!filterGoal.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"createGoals_container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"createGoals_md\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard_left_content\",\n          children: /*#__PURE__*/_jsxDEV(MiniDrawer, {\n            withOutOrg: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create_goals_right_content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"top_route_head\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"top_route_icon\",\n              children: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginLeft: \"10px\"\n              },\n              children: \"Goals\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"create_goals_box_main\",\n            children: /*#__PURE__*/_jsxDEV(CreateGoals, {\n              handleAddGoals: handleUpdateGoals,\n              handleInputGoals: handleGoals,\n              handleGoalImg: handleGoalImg,\n              inputValues: inputValues,\n              imgUrl: imgUrl,\n              loading: loading,\n              btnValue: \"Confirm\",\n              handleEmptyImg: handleEmptyImg,\n              cross: true,\n              dbCategory: dbCategory,\n              backArrowPathId: \"/without-organization/dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n\n_s(WitoutOrgUpdateGoals, \"XiwIwWQMvoOFgBEEGUgxeLy/VZI=\", false, function () {\n  return [useHistory, useParams, useSelector];\n});\n\n_c = WitoutOrgUpdateGoals;\nexport default WitoutOrgUpdateGoals;\n\nvar _c;\n\n$RefreshReg$(_c, \"WitoutOrgUpdateGoals\");","map":{"version":3,"sources":["/Users/sidorelakollcaku/Desktop/Project/src/Pages/DashboardScreens/WithOutOrganizations/UpdateGoals.jsx/Index.jsx"],"names":["React","useEffect","useState","MiniDrawer","PersonIcon","CreateGoals","useSelector","useParams","firebase","useHistory","goalsInput","eventName","description","dificulty","endDate","investMin","investMax","rewardMin","rewardMax","startDate","numberOfDays","WitoutOrgUpdateGoals","history","goal","inputValues","setInputValues","imgUrl","setImgurl","imgName","setImgName","local","setLocal","filterGoal","setFilterGoal","editGoalId","setEditGoalId","loading","setLoading","db","database","ref","goals","state","goalReducer","withoutOrgGoals","dbCategory","setDbCategory","getCategories","on","snapshot","categoryArray","forEach","data","resData","val","dataKey","key","id","push","goalsFilter","filter","length","url","handleGoals","event","target","name","value","handleGoalImg","URL","createObjectURL","files","goalImgName","storage","createStorageRef","put","downLoad","getDownloadURL","goalsRef","handleEmptyImg","handleUpdateGoals","e","preventDefault","then","update","peopleJoined","catch","err","console","log","marginLeft"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport MiniDrawer from \"../../Sidebar\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport CreateGoals from \"../../WithOrganizations/CreateGoals/CreateGoals\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport firebase from \"../../../../Config/FirebaseConfig\";\nimport { useHistory } from \"react-router-dom\";\n\nconst goalsInput = {\n  eventName: \"\",\n  description: \"\",\n  dificulty: \"\",\n  endDate: \"\",\n  investMin: \"\",\n  investMax: \"\",\n  rewardMin: \"\",\n  rewardMax: \"\",\n  startDate: \"\",\n  numberOfDays:''\n};\n\nconst WitoutOrgUpdateGoals = () => {\n  const history = useHistory();\n  let { goal } = useParams();\n  const [inputValues, setInputValues] = useState(goalsInput);\n  const [imgUrl, setImgurl] = useState(\"\");\n  const [imgName, setImgName] = useState(\"\");\n  const [local, setLocal] = useState(\"\");\n  let [filterGoal, setFilterGoal] = useState([]);\n  let [editGoalId, setEditGoalId] = useState(\"\");\n  let [loading, setLoading] = useState(false);\n  const db = firebase.database();\n  const ref = db.ref(`withoutOrganization/categories`);\n  const goals = useSelector((state) => {\n    return state.goalReducer.withoutOrgGoals;\n  });\n\n  let [dbCategory, setDbCategory] = useState([]);\n\n  const getCategories = () => {\n    ref.on(\"value\", (snapshot) => {\n      let categoryArray = [];\n      snapshot.forEach((data) => {\n        let resData = data.val();\n        let dataKey = data.key;\n        resData.id = dataKey;\n        categoryArray.push(resData);\n      });\n      setDbCategory(categoryArray);\n    });\n  };\n  // console.log(goals)\n  useEffect(() => {\n    //   filter selected goal detail\n    let goalsFilter = goals.filter((val) => val.id === goal);\n    setFilterGoal(goalsFilter);\n    if (goalsFilter.length) {\n      setImgurl(goalsFilter[0].url);\n      setInputValues(goalsFilter[0].inputValues);\n      setEditGoalId(goalsFilter[0].id);\n    }\n    getCategories();\n    return () => {\n      getCategories();\n    };\n  }, []);\n\n  const handleGoals = (event) => {\n    setInputValues({ ...inputValues, [event.target.name]: event.target.value });\n  };\n\n  const handleGoalImg = (event) => {\n    const url = URL.createObjectURL(event.target.files[0]);\n    const goalImgName = event.target.files[0].name;\n    setImgurl(url);\n    setImgName(goalImgName);\n    setLocal(event.target.files[0]);\n  };\n  // firebase storage ref\n  const storage = firebase.storage();\n  let createStorageRef = () => storage.ref(`goalsImages/${imgName}`).put(local);\n  let downLoad = () => storage.ref(`goalsImages/${imgName}`).getDownloadURL();\n\n  // firebase database reference\n  const goalsRef = db.ref(`withoutOrganization/goals/` + editGoalId);\n\n  const handleEmptyImg = () => {\n    setImgurl(\"\");\n  };\n\n  // update goals in database\n  const handleUpdateGoals = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    if (local) {\n      createStorageRef().then(() => {\n        downLoad().then((url) => {\n          goalsRef\n            .update({\n              inputValues,\n              url,\n              peopleJoined: 0,\n            })\n            .then(() => {\n              setLoading(false);\n              history.push(`/without-organization/dashboard`);\n            })\n            .catch((err) => {\n              console.log(err);\n              setLoading(false);\n            });\n        });\n      });\n    } else {\n      goalsRef\n        .update({\n          inputValues,\n          // numberOfDays,\n        })\n        .then(() => {\n          setLoading(false);\n          history.push(`/without-organization/dashboard`);\n        })\n        .catch((err) => {\n          console.log(err);\n          setLoading(false);\n        });\n    }\n    // console.log(inputValues);\n    setInputValues(goalsInput);\n    setImgurl(\"\");\n  };\n\n  if (!filterGoal.length) {\n    return (\n      <div>\n        <p>Loading</p>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"createGoals_container\">\n        <div className=\"createGoals_md\">\n          <div className=\"dashboard_left_content\">\n            <MiniDrawer withOutOrg />\n          </div>\n          <div className=\"create_goals_right_content\">\n            <div className=\"top_route_head\">\n              <p className=\"top_route_icon\">\n                <PersonIcon />\n              </p>\n              <p style={{ marginLeft: \"10px\" }}>Goals</p>\n            </div>\n            <div className=\"create_goals_box_main\">\n              <CreateGoals\n                handleAddGoals={handleUpdateGoals}\n                handleInputGoals={handleGoals}\n                handleGoalImg={handleGoalImg}\n                inputValues={inputValues}\n                imgUrl={imgUrl}\n                loading={loading}\n                btnValue=\"Confirm\"\n                handleEmptyImg={handleEmptyImg}\n                cross\n                dbCategory={dbCategory}\n                backArrowPathId={\"/without-organization/dashboard\"}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WitoutOrgUpdateGoals;\n"]},"metadata":{},"sourceType":"module"}