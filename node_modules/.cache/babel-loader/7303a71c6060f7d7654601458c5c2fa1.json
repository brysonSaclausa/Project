{"ast":null,"code":"var _jsxFileName = \"/Users/sidorelakollcaku/Desktop/Project1/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport AppRouter from './Router/Router';\nimport firebase from 'firebase';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { allOrganizations } from './GlobalState/CreateSlice';\nimport logo from './Assets/logo.png';\nimport { isLogin, setCurrentUser } from './GlobalState/CreateSlice';\nimport { setAllUsersWholeApp } from './GlobalState/UserSideSlice';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress'; // import { send } from 'emailjs-com'\n\nimport { init } from 'emailjs-com';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    '& > * + *': {\n      marginLeft: '0px'\n    },\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n}));\n\nfunction App() {\n  _s();\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  let auth = firebase.auth();\n  let db = firebase.database(); // loading\n\n  let [loading, setLoading] = useState(true);\n  const selector = useSelector(state => {\n    return state;\n  });\n  const {\n    goalReducer\n  } = selector; // console.log(goalReducer)\n  // const checkUserLogin = () => {\n  //   setLoading(true)\n  // }\n\n  useEffect(() => {\n    init('user_y6bbBvCNzLoq9C7FeZYK0');\n    setLoading(true);\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        const dbRef = db.ref('users/' + user.uid);\n        dbRef.on('value', snapshot => {\n          snapshot.forEach(usersData => {\n            const userData = usersData.val();\n            const userKey = usersData.key;\n            userData.pushId = userKey;\n            dispatch(setCurrentUser(userData));\n          });\n          dispatch(isLogin(true));\n          setLoading(false);\n        });\n      } else {\n        setLoading(false);\n      }\n    });\n    db.ref('organizations').on('value', snapshot => {\n      let organizationsArry = [];\n      snapshot.forEach(data => {\n        const getData = data.val();\n        const getId = data.key;\n        getData.id = getId;\n        organizationsArry.push(getData);\n      });\n      dispatch(allOrganizations(organizationsArry));\n    });\n    db.ref('users/').on('value', snapshot => {\n      const usersArray = [];\n      snapshot.forEach(users => {\n        users.forEach(user => {\n          const allUsers = user.val();\n          const allUsersKey = user.key;\n          allUsers.pushId = allUsersKey;\n          usersArray.push(allUsers); // console.log(user.val(),user.key)\n        }); // console.log(users.val(),users.key)\n      });\n      dispatch(setAllUsersWholeApp(usersArray));\n    }); // checkUserLogin();\n  }, []);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loaderCenter\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.root,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"appLogo\",\n          src: logo,\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(AppRouter, {\n      isUser: goalReducer.isUserLogin,\n      cUser: goalReducer.currentUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"bhuFYtnTMvLLcxgg6bAx9/FGBR4=\", false, function () {\n  return [useStyles, useDispatch, useSelector];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/sidorelakollcaku/Desktop/Project1/src/App.js"],"names":["React","useEffect","useState","AppRouter","firebase","useDispatch","useSelector","allOrganizations","logo","isLogin","setCurrentUser","setAllUsersWholeApp","makeStyles","CircularProgress","init","useStyles","theme","root","display","flexDirection","position","marginLeft","alignItems","justifyContent","App","classes","dispatch","auth","db","database","loading","setLoading","selector","state","goalReducer","onAuthStateChanged","user","dbRef","ref","uid","on","snapshot","forEach","usersData","userData","val","userKey","key","pushId","organizationsArry","data","getData","getId","id","push","usersArray","users","allUsers","allUsersKey","isUserLogin","currentUser"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport AppRouter from './Router/Router'\nimport firebase from 'firebase'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { allOrganizations } from './GlobalState/CreateSlice'\nimport logo from './Assets/logo.png'\nimport { isLogin, setCurrentUser } from './GlobalState/CreateSlice'\nimport {setAllUsersWholeApp} from './GlobalState/UserSideSlice'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n// import { send } from 'emailjs-com'\nimport { init } from 'emailjs-com'\nimport './App.css'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection:'column',\n    position:'relative',\n    '& > * + *': {\n      marginLeft: '0px',\n    },\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n}))\n\nfunction App() {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  let auth = firebase.auth()\n  let db = firebase.database()\n  // loading\n  let [loading, setLoading] = useState(true)\n\n  const selector = useSelector((state) => {\n    return state\n  })\n  const { goalReducer } = selector\n  // console.log(goalReducer)\n  // const checkUserLogin = () => {\n  //   setLoading(true)\n  // }\n  useEffect(() => {\n    init('user_y6bbBvCNzLoq9C7FeZYK0')\n    setLoading(true)\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        const dbRef = db.ref('users/' + user.uid)\n        dbRef.on('value', (snapshot) => {\n          snapshot.forEach((usersData) => {\n            const userData = usersData.val()\n            const userKey = usersData.key\n            userData.pushId = userKey \n            dispatch(setCurrentUser(userData))\n          })\n          dispatch(isLogin(true))\n          setLoading(false)\n        })\n      } else {\n        setLoading(false)\n      }\n    })\n    db.ref('organizations').on('value', (snapshot) => {\n      let organizationsArry = []\n      snapshot.forEach((data) => {\n        const getData = data.val()\n        const getId = data.key\n        getData.id = getId\n        organizationsArry.push(getData)\n      })\n      dispatch(allOrganizations(organizationsArry))\n    })\n    db.ref('users/').on('value',((snapshot)=>{\n      const usersArray = []\n      snapshot.forEach((users)=>{\n        users.forEach((user)=>{\n          const allUsers = user.val()\n          const allUsersKey = user.key\n          allUsers.pushId = allUsersKey\n          usersArray.push(allUsers)\n        // console.log(user.val(),user.key)\n        })\n        // console.log(users.val(),users.key)\n      })\n      dispatch(setAllUsersWholeApp(usersArray))\n    }))\n    // checkUserLogin();\n  }, [])\n\n  if (loading) {\n    return (\n      <div className='loaderCenter'>\n        <div className={classes.root}>\n          <img  className='appLogo' src={logo} alt='logo' />\n          <br />\n          <CircularProgress color=\"secondary\" />\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"App\">\n      <AppRouter\n        isUser={goalReducer.isUserLogin}\n        cUser={goalReducer.currentUser}\n      />\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}